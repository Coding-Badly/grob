name: GitHub Actions Demo

#run-name: ${{ github.actor }} is testing out GitHub Actions ğŸš€
#run-name: 

on: [push]

jobs:
  run-miri-tests:
    name: Miri test.
    runs-on: windows-latest
    steps:
     - uses: actions/checkout@v3
     - name: Install nightly.
       run: rustup toolchain install nightly
     - name: Install Miri.
       run: rustup +nightly component add miri
     - name: Prepare Miri.
       run: cargo +nightly miri setup
     - name: Freshen Rust.
       run: rustup update
     - name: What does Miri find?
       run: cargo +nightly miri test
  run-adapters-addresses-full:
    name: GetAdaptersAddresses using the full API.
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
      - name: Freshen Rust.
        run: rustup update
      - name: GetAdaptersAddresses using the full API.
        run: cargo run --example adapters-addresses-full --release

#  run-unit-tests:
#    runs-on: windows-latest
#    steps:
#     - uses: actions/checkout@v3
#     - name: Test it.  Test it good.
#       run: cargo test

#  Explore-GitHub-Actions:
#    runs-on: ubunut-latest
#    steps:
#      - run: echo "ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event."
#      - run: echo "ğŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!"
#      - run: echo "ğŸ” The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
#      - name: Check out repository code
#        uses: actions/checkout@v3
#      - run: echo "ğŸ’¡ The ${{ github.repository }} repository has been cloned to the runner."
#      - run: echo "ğŸ–¥ï¸ The workflow is now ready to test your code on the runner."
#      - name: List files in the repository
#        run: |
#          ls ${{ github.workspace }}
#      - run: echo "ğŸ This job's status is ${{ job.status }}."
